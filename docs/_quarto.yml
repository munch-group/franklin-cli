project:
  type: website
  output-dir: _build
  # resources:
    # - objects.txt
    # - objects-test.txt
  render:
    - "*.qmd"
    - "*.ipynb"
    - "!CLAUDE.md"
    # - "!ignored-dir/"    
  # post-render: 
  #   - quarto render pages/student/

execute:
  freeze: auto
  echo: true

metadata-files:
  - api/_sidebar.yml

filters:
  - "interlinks"

interlinks:
  fast: true
  sources:
    python:
      url: https://docs.python.org/3/
    griffe:
      url: https://mkdocstrings.github.io/griffe/
    numpy:
      url: https://numpy.org/doc/stable/
    pandas:
      url: https://pandas.pydata.org/docs/
    matplotlib:
      url: https://matplotlib.org/stable/
    scipy:
      url: https://docs.scipy.org/doc/scipy/
    statsmodels:
      url: https://www.statsmodels.org/stable/      
    # quartodoc-test:
    #   url: https://machow.github.io/quartodoc
    #   inv: objects-test.txt

website:
  title: "franklin"
  page-navigation: true
  navbar:
    left:
      # - file: examples/
      #   text: Examples
      - href: api/
        text: API reference
      - href: pages/student/
        text: Student site
      - href: http://munch-group.org/jupyterlite
        text: Sandbox
    right:
      - icon: github
        href: https://github.com/munch-group/franklin/
  sidebar:
    - id: pages
      title: Get Started
      style: floating
      align: left
      contents:
        # - index.qmd
        - pages/getting_started.qmd
        - section: "Franklin commands"
          contents:
            # - pages/quick_reference.qmd #
            - pages/commands_core.qmd
            - pages/commands_edu.qmd
            - pages/commands_admin.qmd
        - section: "Setup"
          contents:
            - pages/installing_python.qmd
            - pages/installing_docker.qmd
        - section: "Educator Guides"
          contents:
        - section: "Tutorials"
          contents:
            - pages/jupyterlab.ipynb
            - pages/jupyterlab_complete.ipynb
            - pages/numpy_and_pandas.ipynb
            - pages/numpy_pandas_comprehensive.ipynb
            - pages/python_r_julia.qmd
            - pages/plotting.ipynb
            - pages/plotting_expanded.ipynb
            - pages/python_r_julia_expanded.qmd
            - pages/widgets.ipynb
            - pages/widgets_expanded.ipynb
        - section: "Reference"
          contents:
            - pages/terminal.qmd
            - pages/pixi_and_conda.qmd
            - pages/docker.qmd
            - pages/ssh.qmd
            - pages/git.qmd
            - pages/gitlab.qmd
        - section: "Administration"
          contents:
            - pages/admin_quick_reference.qmd #
            - pages/automatic_updates.qmd
        - section: "Developer Resources"
          contents:
            - pages/python_users_guide.qmd 
            - pages/developer_guide.qmd
            - pages/developing.qmd
            - pages/overview.qmd
            - pages/devel_quick_reference.qmd #
        - section: "Help & Support"
          contents:
            - pages/troubleshooting.qmd
            - pages/faq.qmd

        # - section: "Source code"
        #   contents:
        #     - pages/admin/source.qmd
        #     - ../src/franklin/docker.py

comments:
  hypothesis: true

lightbox: true

format:
  html:
    # mainfont: "Passata"
    theme: 
      - cosmo
      # - custom.scss

  # theme:
  #   light: [cosmo]  # or flatly, darkly, etc.
  #   dark: [darkly]
  #   # Customize Bootstrap variables
  #   custom:
  #     navbar-bg: "#004080"     # background color
  #     navbar-fg: "#ffffff"     # foreground (text) color
  #     navbar-hover-color: "#cccccc"  # hover text color
                
    # theme: cosmo
    css:
      - api/_styles-quartodoc.css
      - styles.css
    toc: true
    sidebar:
      collapse-level: 1
      search: true  
    mermaid:
      theme: neutral     
    smooth-scroll: true      

quartodoc:
  style: pkgdown
  dir: api
  package: franklin
  render_interlinks: true
  options:
    signature_name: full
  renderer:
    style: markdown
    table_style: description-list
  sidebar: "api/_sidebar.yml"
  css: "api/_styles-quartodoc.css"

  sections:
    - title: Jupyter
      package: franklin.jupyter
      desc: |
        Some description...
      contents:
        - _run
    - title: Docker
      package: franklin.docker
      desc: |
        Some description...
      contents:
        - run
        - pull
          

    # - title: Some other section
    #   package: franklin.docker
    #   desc: |
    #     Some description...
    #   contents:
    #     - scriptname
